config:
  target: "https://localhost:3030"
  phases:
    - duration: 10
      arrivalRate: 10
      rampTo: 15
      name: "Warm up the application"
    - duration: 20
      arrivalRate: 30
      name: "Sustained max load"
    - duration: 20
      arrivalRate: 5
      name: "Cool it down"
  processor: "./artillery_functions.js"
  scenarios: 
    -flow: 
      -get: 
        url: "/"
      -get:
        url: "/bundle.js"
      -loop:
      -function: "getRandomIdFirstHalf"
      -get:
        -url: "/data/artist?artistId={{ id }}"  
      -function: "getRandomIdSecondHalf"
      -get:
        url: "/data/artist/related?artistId={{ id }}"
      -function: "getRandomIdTenPercent"
      -get:
        url: "/data/artist?artistId={{ id }}"
      count: 30
